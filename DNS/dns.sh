#!/bin/bash
# Written by David Serate
# Does something to update DNS
# This is not designed to be extensible - only to manage my local dns in 3 zones
# Routing 
# 
if (( $EUID != 0 )); then 
	echo "Run with sudo privileges"
	exit
fi
while getopts "cui:n:z " option; do
	val=$OPTARG
	case $option in
		c)
			# Create the files
			action="create"
		;;
	
		e)	
			# Update the forward and reverse entries
			action="edit"
		;;

		z)
			# Zone
			zone=$val
		;;

		i)
			# IP 
			ip=$val
		;;

		n)
			# Name
			name=$val
		;;
	esac	
done
# Handle executing everything
case $action in
	"create")
		# Create files 
		cd /etc/bind/zones
		zones=("red", "blue", "routing")
		serial=3
		foreach i $zones
			echo "Creating $i zone file."
			# Create the specific zone file
			touch $i.local
			echo -e "@ \t IN \t SOA \t $i.local. "
			# Increment serial
			$serial+=1
	;;

	"edit")
	
	;;
esac